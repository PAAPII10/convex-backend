# --- Core Configuration ---
NODE_ENV=production
CONVEX_DEPLOYMENT=production
CONVEX_INSTANCE_NAME=production-instance
CONVEX_INSTANCE_SECRET=replace-with-secure-random-string

# --- Public URLs ---
CONVEX_SITE_URL=https://api.yourdomain.com
CONVEX_CLOUD_ORIGIN=https://api.yourdomain.com
CONVEX_SITE_ORIGIN=https://api.yourdomain.com

# --- Database (Supabase PostgreSQL) ---
DATABASE_URL=postgresql://USER:PASSWORD@HOST:PORT/DATABASE?sslmode=require

# --- Action Compute ---
# For t2.micro (1 vCPU, 1GB RAM), use 1-2 workers (swap space REQUIRED)
# For t3.micro (2 vCPU, 1GB RAM), reduce to 2-4 workers to prevent OOM
# For t3.small (2GB RAM), use 4-6 workers
# For t3.medium+ (4GB+ RAM), 8 workers is recommended
ACTION_WORKER_COUNT=8

# --- File Storage (Supabase S3-compatible) ---
AWS_ACCESS_KEY_ID=SUPABASE_S3_ACCESS_KEY
AWS_SECRET_ACCESS_KEY=SUPABASE_S3_SECRET_KEY
AWS_REGION=us-east-1
AWS_S3_ENDPOINT=https://<project-id>.supabase.co/storage/v1/s3
AWS_S3_BUCKET=convex-files
MAX_FILE_SIZE_BYTES=104857600

# --- Security ---
JWT_SIGNING_KEY=replace-with-secure-random-string

# --- Vector Search (Optional) ---
# VECTOR_EMBEDDING_PROVIDER=openai
# OPENAI_API_KEY=your-openai-api-key

# --- Admin Key (Generated after first run) ---
# CONVEX_ADMIN_KEY=instance|your-admin-key-here
